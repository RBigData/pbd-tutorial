\subsection{Benchmarks}

\begin{frame}
  \begin{block}{Default Choices Throughout}
    \begin{itemize}[<+-|alert@+>]
      \item Only free software used (no MKL, ACML, etc.)
      \item Generate random matrix
        \begin{itemize}
        \item Global Columns: 500, 1000, and 2000
        \item Global Rows: vary with core count (local matrix fixed at
          $43.4 MiB$)
        \end{itemize}
      \item 1 core = 1 MPI process
      \item Measure wall clock time
      \item ``weak scaling'' = global problem grows with core count
    \end{itemize}
    \vspace{.8cm}
    \centering\includegraphics{../common/pics/krakenWide}
  \end{block}
\end{frame}

\begin{frame}
  \begin{block}{Covariance benchmark}
    \scriptsize
      x $<-$ ddmatrix("rnorm", nrow=n, ncol=p, mean=mean, sd=sd) \\
      cov.x $<-$ cov(x)
      \begin{center}
        \includegraphics[trim=3mm 1mm 2mm 11mm,clip,height=.78\textheight]{../common/pics/cov}
      \end{center}
  \end{block}
\end{frame}

\begin{frame}
  \begin{block}{Linear regression benchmark}
    \scriptsize
    beta\_true $<-$ ddmatrix("runif", nrow=p, ncol=1) \\
    y $<-$ x \%*\% beta\_true \\
    beta\_est $<-$ lm.fit(x, y)\$coefficients
    \begin{center}
      \includegraphics[trim=3mm 1mm 2mm
      11mm,clip,height=.77\textheight]{../common/pics/benchmarks/lmfit2}
    \end{center}
  \end{block}
\end{frame}

\begin{frame}
  \begin{block}{\code{Data Generation}}
  \begin{center}
    \includegraphics[height=.88\textheight]{../common/pics/benchmarks/datagen24k}
  \end{center}
  \end{block}
\end{frame}

\begin{frame}
  \begin{block}{\code{prcomp() Strong Scaling}}
  \begin{center}
    \includegraphics[height=.88\textheight]{../common/pics/benchmarks/pca_scaling}
  \end{center}
  \end{block}
\end{frame}